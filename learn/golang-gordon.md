# 基本介绍

## Golang 
Golang 是 Google 开发的一种静态强类型、编译型、并发型，并具有垃圾回收功能的编程语言。 罗伯特·格瑞史莫、罗勃·派克及肯·汤普逊于 2007 年 9 月开始设计 Go，稍后伊恩·兰斯·泰勒、拉斯·考克斯加入项目。Golang 是基于 Inferno 操作系统所开发的。有时 Golang 也叫 Go 语言。

- 作业系统：Linux、macOS、FreeBSD、Windows
- 副档名：go
- 发行时间：2009年11月10日，​13年前
- 实作者：Google
- 当前版本：1.21.3 (2023 年 10 月 10 日；稳定版本);
- 编程范型：编译型，可平行化，结构化，指令式
- 设计者：罗伯特·格瑞史莫（英语：Robert Griesemer）; 罗勃·派克; 肯·汤普逊

## 撰写风格
Golang 有定义如下的撰写风格：
1. 每行程序结束后不需要撰写分号（`;`）。
2. 大括号 `{` 不能够换行放置，且必须成对出现。
   ```go
   // 错误
   func main()
   {
	// TODO
   }

   // 正确
   func main() {
    // TODO
   }
   ```
3. if 判断式和 for 循环不需要以小括号包覆起来。
4. 使用 tab 做排版。
5. 程序的执行入口是 main() 函数。
6. Go 语言严格区分大小写。
7. Go 编译器是一行一行编译的，因此，不要多个语句写在同一行，会报错。
8. Go 语言代码文件中定义的变量或导入的包如果没有使用，代码编译不能通过。

除了第二点外（换行会产生编译错误），在不符合上述规定时，仍旧可以编译，但使用了内置 gofmt 工具后，会自动整理代码，使之符合规定的撰写风格。方法是：`gofmt -w main.go`.

## 目标
Golang 的主要目标是”兼具 Python 等动态语言的开发速度和 C/C++ 等编译型语言的性能与安全性“。

## 特性
- Go 语言的用途众多，可以进行网络编程、系统编程、并发编程、分布式编程。
- <font color=blue>Go 语言天然支持并发</font>，提出 goroutine 轻量级协程，可实现大并发处理，高效利用多核。
- 因为 Go 语言没有类和继承的概念，所以它和 Java 或 C++ 看起来并不相同。但是它通过接口（interface）的概念来实现多态性。Go 语言有一个清晰易懂的轻量级类型系统，在类型之间也没有层级之说。因此可以说 Go 语言是一门混合型的语言。
- Go 是编译型语言。在编译代码时，编译器检查错误、优化性能并输出可在不同平台上运行的二进制文件。
- Go 自带了编译器，因此无须单独安装编译器。
- Go 语言支持交叉编译，比如说你可以在运行 Linux 系统的计算机上开发可以在 Windows 上运行的应用程序。这是第一门完全支持 UTF-8 的编程语言，这不仅体现在它可以处理使用 UTF-8 编码的字符串，就连它的源码文件格式都是使用的 UTF-8 编码。Go 语言做到了真正的国际化！
- Go 语言有一个吉祥物，在会议、文档页面和博文中，大多会包含下图所示的 Go Gopher，这是才华横溢的插画家 Renee French 设计的，她也是 Go 设计者之一 Rob Pike 的妻子。

<!-- ![](https://c.biancheng.net/uploads/allimg/180808/1-1PPQA9545W.jpg) -->
![](https://camo.githubusercontent.com/2b507540e2681c1a25698f246b9dca69c30548ed66a7323075b0224cbb1bf058/68747470733a2f2f676f6c616e672e6f72672f646f632f676f706865722f6669766579656172732e6a7067)
- 一种静态强类型、编译型、并发型、并具有垃圾回收功能的编程语言。
- Go 语言的一个文件都要归属于一个包，不能单独存在，即每个 `x.go` 文件上面要有一个 `package xxx`。包的概念用于组织程序结构。
- Go 语言支持返回多个值。
- 编写 Go 语言代码时，每一行编写一个语句，每个语句后面不需要增加 `;`，编译时会自动增加。
- Go 语言代码中未使用的导入包会报错；代码中未使用的变量定义会报错。


# 环境
## Golang 环境配置
访问 [Golang官网](https://go.dev/) 下载合适的版本。解压到喜欢的目录，并添加到环境变量（如 /etc/profile，生效需要注销当前登录用户）即可。类似于 java 和 nodejs。大概如下：
```bash
export GOROOT=/usr/local/go
export PATH=$GOROOT/bin:$PATH
export GOPATH=/Users/jinzhongxu/codes/go
```

## 测试环境
```bash
# 查看 Golang 版本信息
go version
```

## 编写简单程序
1. 创建文件夹：`go/learn/proj1/`；
2. 在该文件夹下创建文件：`main.go`，在该文件中增加如下内容：
```go
// 表示 main.go 文件归属于 main 包
package main

// 导入包
import "fmt"

// 导入多个包
import (
	"fmt"
	"unsafe"
)

// func 是关键字，定义函数
// main() 是主函数，程序的入口
func main() {
	fmt.Println("hello, go!")
}
```
3. 在终端中执行：
```bash
# 直接执行。会后台编译，然后再执行。速度慢
go run main.go

# 先编译，再执行
# 编译成同名的可执行程序
# 注意变异后的程序一般会比较大，因为编译时会把依赖包一起打包进去，
# 因为可执行程序中已有程序运行时的依赖包，
# 所以移动到其他机器上仍然可以运行，而不需要配置 Go jdk
go build main.go
# 执行
./main

# 编译成指定的文件名可执行程序
go build -o my_main main.go
```

# 转义字符（escape char）
常用的转义字符有：
- \t : 制表位；
- \n : 换行符；
- \\\\ : \ 符号；
- \\" : " 符号；
- \r : 回车符；
   ```go
   fmt.Println("hello, \rgo!")

   // 打印结果不是
   hello,
   go!
   // 而是
   go!lo, 
   ```
- `` : 将所有文本书写在 \`和\` 之间，将失去转义效果。如将代码写入其中，将会原封不动打印出来，并保持原结构。

# 注释
通过注释提高代码的可阅读性。

```go
// 行注释，参考 C++

/*
   块注释，参考 C
*/
```

Go 语言官方推荐尽量使用行注释。


# 变量
变量是程序的基本组成单位。Go 中变量的声明：
```go
// 方法一，显式声明变量的数据类型
var x int

// 方法二，隐式声明变量的数据类型，根据赋值自动推断
var x = 3

// 方法三，常用. 省略 var 关键字，使用 := 表示声明新变量并赋值
x := 3

// 多个变量同时声明
var x, y, z int
var a, b, c = 1, '2', "3"
v1, v2, v3 := 1.1, true, "中"
var (
	x1 = 3
	x2 = "marry"
)
```

- 声明的变量在前面程序中没有被声明过，否则编译会出错。
- 声明的变量在后面程序中必须使用，否则编译会出错。
- 声明的变量如果没有赋值，那么会隐式赋默认值，如 int 类型赋值 0，string 类型赋值空串（''）。
- 声明的变量只能在同一数据类型内变化，不能被其他数据类型的值重新赋值，如 `var x int`，那么 `x` 在后续程序使用中只能被改变为整数值，不能被赋值为字符串。
- 在一个作用域内，不能出现重名的变量。
- 变量代表了三重属性：变量名、值和数据类型。



